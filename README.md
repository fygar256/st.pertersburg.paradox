# python３、mpmathを使った、サンクトペテルブルグのパラドックスの独自研究

コインを表が出るまで投げ続け、投げた回数をNとすると、

2^(N-1)円もらえるとするゲームにおいて、期待値を計算すると、

無限大に発散してしまう。

W=Σk=1,∞(1/2^k・2^(k-1))=∞

これは、直感と反するので、サンクトペテルスブルグのパラドックスと呼ばれる。


一旦、コインを投げる回数の期待値Sを求め、

それから賞金の期待値（もどき）μを算出する方法(方法１)を取ってみる

S=Σk=1,∞ (1/2^k)=2

S=2なので、μ=2^(S-1)=2

故に、答えは２である。

と、いうのは誤っている。（よくある間違い)


一般に、期待値において、f(g(x))=g(f(x))は成り立たないので、

一旦、コインを投げる回数の期待値を求め、それから賞金の期待値（もどき）を算出するのは誤っている。

しかし、これのどこが間違っているのかは解らない。意味論的には合ってるが、数学的には間違っている

ウイリアム・フェラーも標本抽出で算出したが、期待値無限大が正解である。

ゲームの回数が有限に限られるならば、期待値は遥かに小さな値に収束する。

無限大の繰り込みができるかどうかは謎


方法１と、n回ゲームを繰り返した場合の平均値を求めるプログラムを載せる。ここでは、n=10000とする。
